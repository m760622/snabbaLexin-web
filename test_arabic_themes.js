const fs = require('fs');

const LEXIN_PATH = 'Lexin20210201.csv';
const content = fs.readFileSync(LEXIN_PATH, 'utf8');
const lines = content.split('\n');

const ARABIC_THEMES = {
    1: { name: "Food", keywords: ["طعام", "أكل", "شرب", "مطبخ", "فاكهة", "خضار", "خبز", "ماء", "قهوة", "شاي", "غداء", "عشاء", "فطور", "جوع", "شبع", "وصفة", "صحن", "كأس", "كوب", "تفاح", "موز", "توت", "كعك", "جبن", "زبدة", "حليب", "لحم", "سمك", "دجاج", "بهار", "ملح", "سكر", "فلفل", "وجبة", "مطعم", "طهي", "طبخ"] },
    2: { name: "Nature", keywords: ["طبيعة", "شجرة", "غابة", "زهرة", "نبات", "حيوان", "بحر", "بحيرة", "ماء", "جبل", "حجر", "سماء", "شمس", "قمر", "نجم", "غيمة", "مطر", "ثلج", "ريح", "طقس", "فصل", "شتاء", "ربيع", "صيف", "خريف", "حديقة", "عشب", "أرض", "نار", "هواء", "جزيرة", "شاطئ", "نهر"] },
    3: { name: "Travel", keywords: ["سفر", "رحلة", "سيارة", "باص", "قطار", "طائرة", "قارب", "دراجة", "مرور", "طريق", "شارع", "خريطة", "جواز", "تذكرة", "فندق", "عطلة", "سائح", "زيارة", "نزهة", "حقيبة", "محطة", "مطار", "ميناء", "بلد", "مدينة", "عالم", "شمال", "جنوب", "شرق", "غرب"] },
    4: { name: "Daily Life", keywords: ["يوم", "عمل", "شغل", "مدرسة", "بيت", "وقت", "ساعة", "نهار", "ليل", "صباح", "مساء", "أسبوع", "شهر", "سنة", "مال", "تسوق", "دكان", "تنظيف", "غسيل", "نوم", "استيقاظ", "أكل", "شرب", "كلام", "استماع", "نظر", "قراءة", "كتابة", "لعب", "صديق", "مساعدة"] },
    5: { name: "Body", keywords: ["جسم", "رأس", "شعر", "عين", "أذن", "أنف", "فم", "سن", "رقبة", "ذراع", "يد", "إصبع", "بطن", "ظهر", "رجل", "قدم", "قلب", "دم", "مريض", "صحي", "ألم", "دواء", "طبيب", "مستشفى", "صحة", "قوي", "ضعيف", "تعب", "نوم", "راحة", "ركض", "مشى"] },
    6: { name: "Clothes", keywords: ["ملابس", "لبس", "قميص", "بنطلون", "تنورة", "فستان", "جاكيت", "معطف", "حذاء", "جورب", "قبعة", "قفاز", "وشاح", "ربطة", "بدلة", "قماش", "خياطة", "زر", "جيب", "مقاس", "لون", "أحمر", "أزرق", "أصفر", "أخضر", "أسود", "أبيض", "غسيل", "موضة"] },
    7: { name: "Family", keywords: ["عائلة", "أقارب", "أم", "أب", "والد", "طفل", "ابن", "ابنة", "أخ", "أخت", "جد", "جدة", "عم", "خال", "زوج", "زوجة", "زواج", "طلاق", "ولد", "بنت", "صديق", "جار", "اسم"] },
    8: { name: "House & Home", keywords: ["بيت", "منزل", "شقة", "غرفة", "مطبخ", "حمام", "صالة", "نافذة", "شباك", "باب", "أرضية", "سقف", "جدار", "أثاث", "طاولة", "كرسي", "كنبة", "سرير", "مصباح", "سجادة", "ستارة", "خزانة", "رف", "مفتاح", "قفل", "سكن", "بناء", "دهان", "حديقة", "شرفة", "كراج"] },
    9: { name: "City & Traffic", keywords: ["مدينة", "قرية", "مجتمع", "مركز", "ساحة", "شارع", "طريق", "مرور", "سيارة", "باص", "قطار", "دراجة", "جسر", "نفق", "بناء", "حديقة", "محل", "بنك", "بريد", "مدرسة", "مستشفى", "شرطة", "إطفاء", "كنيسة", "مكتبة", "سينما", "مطعم", "مقهى", "خريطة", "مكان", "توقف", "قيادة", "مشي"] },
    10: { name: "Animals", keywords: ["حيوان", "كلب", "قط", "حصان", "بقرة", "خنزير", "خروف", "ماعز", "دجاجة", "ديك", "طير", "سمك", "أفعى", "عنكبوت", "ذابة", "بعوضة", "نحلة", "فراشة", "ذئب", "دب", "غزال", "ثعلب", "أرنب", "فأر", "جرذ", "ذيل", "فرو", "جناح", "عش", "صيد", "أليف", "وحشي"] }
};

console.log("Testing Arabic Theme Matching...\n");

for (let ch = 1; ch <= 10; ch++) {
    const theme = ARABIC_THEMES[ch];
    let matchCount = 0;

    for (const line of lines) {
        // Check if any Arabic keyword exists in the line
        const isMatch = theme.keywords.some(k => line.includes(k));
        if (isMatch) matchCount++;
    }

    console.log(`Chapter ${ch} (${theme.name}): ${matchCount} matches.`);
}
