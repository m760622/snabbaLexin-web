<!DOCTYPE html>
<html lang="sv" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Neon Search - Svenska</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Sans+Arabic:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg-color: #0d0d12;
            --grid-bg: #1a1a24;
            --text-color: #e0e0e0;
            --primary-neon: #00f3ff;
            /* Cyan */
            --secondary-neon: #ff00ff;
            /* Magenta */
            --accent-neon: #bc13fe;
            /* Purple */
            --cell-size: 38px;
            --gap: 3px;
            --panel-bg: #1e1e24;
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        * {
            box-sizing: border-box;
            user-select: none;
            -webkit-user-select: none;
            touch-action: none;
        }

        body {
            margin: 0;
            padding: 10px;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Inter', 'Noto Sans Arabic', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* --- Header --- */
        header {
            width: 100%;
            max-width: 400px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 0 5px;
            flex-shrink: 0;
            z-index: 20;
        }

        .header-left,
        .header-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h1 {
            margin: 0;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--primary-neon);
            text-shadow: 0 0 8px rgba(0, 243, 255, 0.5);
        }

        .level-badge {
            background: rgba(255, 255, 255, 0.1);
            padding: 4px 12px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 0.9rem;
            border: 1px solid var(--secondary-neon);
            box-shadow: 0 0 5px var(--secondary-neon);
        }

        .back-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }

        .icon-btn {
            background: none;
            border: none;
            font-size: 1.4rem;
            cursor: pointer;
            padding: 0;
            line-height: 1;
            filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.5));
        }

        /* --- Game Container --- */
        #game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 400px;
            flex: 1;
            overflow-y: auto;
            padding-bottom: 160px;
            position: relative;
        }

        /* --- The Grid --- */
        #grid {
            display: grid;
            gap: var(--gap);
            background: var(--grid-bg);
            padding: 8px;
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            margin-bottom: 15px;
            touch-action: none;
            flex-shrink: 0;
            position: relative;
            z-index: 10;
        }

        .cell {
            width: var(--cell-size);
            height: var(--cell-size);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.1rem;
            font-weight: bold;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            color: #fff;
            cursor: pointer;
            transition: background 0.1s;
        }

        .cell.selected-pending {
            background: rgba(0, 243, 255, 0.3);
            border: 1px solid var(--primary-neon);
            box-shadow: 0 0 10px var(--primary-neon);
            z-index: 10;
        }

        .cell.found {
            background: var(--accent-neon);
            color: #fff;
            box-shadow: 0 0 10px var(--accent-neon);
            animation: pop 0.3s ease-out;
        }

        @keyframes pop {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }

            100% {
                transform: scale(1);
            }
        }

        /* --- Word List --- */
        #word-bank {
            width: 100%;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            align-content: flex-start;
            padding-bottom: 20px;
            z-index: 20;
        }

        .word-item {
            padding: 6px 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            font-size: 0.85rem;
            color: #aaa;
            transition: all 0.3s;
            border: 1px solid transparent;
        }

        .word-item.found {
            text-decoration: line-through;
            color: var(--primary-neon);
            background: rgba(0, 243, 255, 0.1);
            border-color: rgba(0, 243, 255, 0.3);
        }

        .word-item.mystery {
            border: 1px dashed var(--secondary-neon);
            color: var(--secondary-neon);
        }

        /* --- Floating Label --- */
        #floating-label {
            position: absolute;
            pointer-events: none;
            background: var(--primary-neon);
            color: #000;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.9rem;
            display: none;
            z-index: 100;
            box-shadow: 0 0 10px var(--primary-neon);
            white-space: nowrap;
        }

        /* --- Bottom Info Panel --- */
        #bottom-info-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--panel-bg);
            border-top: 2px solid var(--primary-neon);
            box-shadow: 0 -5px 20px rgba(0, 243, 255, 0.2);
            padding: 15px;
            z-index: 500;
            transform: translateY(100%);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            flex-direction: column;
            gap: 8px;
            text-align: center;
        }

        #bottom-info-panel.active {
            transform: translateY(0);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 8px;
            margin-bottom: 5px;
        }

        .panel-word {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-neon);
            text-transform: uppercase;
        }

        .panel-translation {
            font-size: 1.2rem;
            color: #fff;
            font-family: 'Noto Sans Arabic', sans-serif;
            direction: rtl;
        }

        .panel-sentence-sv {
            font-size: 0.95rem;
            color: #e0e0e0;
            font-style: italic;
        }

        .panel-sentence-ar {
            font-size: 1rem;
            color: #aaa;
            font-family: 'Noto Sans Arabic', sans-serif;
            direction: rtl;
        }

        /* --- Modals --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .modal-content {
            background: #1e1e24;
            padding: 25px;
            border-radius: 20px;
            width: 90%;
            max-width: 350px;
            text-align: center;
            border: 1px solid var(--primary-neon);
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.2);
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .modal-overlay.active .modal-content {
            transform: scale(1);
        }

        .modal-btn {
            background: var(--primary-neon);
            color: #000;
            border: none;
            padding: 12px 30px;
            font-size: 1rem;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;
            width: 100%;
            margin-top: 10px;
        }

        .modal-btn:active {
            transform: scale(0.95);
        }

        .level-complete-title {
            font-size: 1.8rem;
            color: var(--secondary-neon);
            margin-bottom: 10px;
        }

        /* --- New Features CSS --- */

        /* Main Menu */
        .mode-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .mode-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .mode-card:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--primary-neon);
            transform: translateY(-2px);
        }

        .mode-icon {
            font-size: 28px;
        }

        .mode-name {
            font-weight: 600;
            font-size: 13px;
            color: #fff;
        }

        /* Flashlight Overlay */
        #flashlight-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle 120px at var(--x, 50%) var(--y, 50%), transparent 0%, rgba(0, 0, 0, 0.98) 100%);
            pointer-events: none;
            z-index: 50;
            display: none;
        }

        /* Timer */
        #timer-display {
            background: rgba(0, 0, 0, 0.6);
            padding: 4px 10px;
            border-radius: 12px;
            border: 1px solid var(--secondary-neon);
            color: var(--secondary-neon);
            font-weight: bold;
            font-size: 0.9rem;
            display: none;
        }

        /* Mystery Hint */
        #mystery-hint {
            background: rgba(188, 19, 254, 0.2);
            border: 1px dashed var(--accent-neon);
            padding: 10px;
            border-radius: 10px;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #fff;
            display: none;
            width: 100%;
            text-align: center;
        }
    </style>
</head>

<body>

    <header>
        <div class="header-left">
            <button class="back-btn" onclick="window.location.href='games.html'">‚Üê</button>
            <button class="icon-btn" onclick="game.showMenu()">‚öôÔ∏è</button>
        </div>
        <h1>Neon Search</h1>
        <div class="header-right">
            <div id="timer-display">60s</div>
            <div class="level-badge">Niv√• <span id="level-display">1</span></div>
        </div>
    </header>

    <div id="game-container">
        <div id="grid"></div>
        <div id="flashlight-overlay"></div>
        <div id="word-bank"></div>
        <div id="mystery-hint">üïµÔ∏è Mystery: <span id="mystery-text">...</span></div>
    </div>

    <div id="floating-label"></div>

    <!-- Bottom Info Panel -->
    <div id="bottom-info-panel">
        <div class="panel-header">
            <span id="panel-word" class="panel-word">WORD</span>
            <span id="panel-translation" class="panel-translation">Translation</span>
        </div>
        <div id="panel-sentence-sv" class="panel-sentence-sv">Swedish sentence example.</div>
        <div id="panel-sentence-ar" class="panel-sentence-ar">Arabic sentence translation.</div>
    </div>

    <!-- Main Menu Modal -->
    <div id="main-menu" class="modal-overlay active">
        <div class="modal-content" style="width: 400px;">
            <h2 class="level-complete-title">Neon Search</h2>
            <p style="opacity: 0.7; margin-bottom: 20px;">Select Mode / ÿßÿÆÿ™ÿ± ÿßŸÑŸÜŸÖÿ∑</p>

            <div class="mode-grid">
                <div class="mode-card" onclick="game.startMode('classic')">
                    <div class="mode-icon">üß©</div>
                    <div class="mode-name">Classic</div>
                </div>
                <div class="mode-card" onclick="game.startMode('flashlight')">
                    <div class="mode-icon">üî¶</div>
                    <div class="mode-name">Flashlight</div>
                </div>
                <div class="mode-card" onclick="game.startMode('timerush')">
                    <div class="mode-icon">‚è≥</div>
                    <div class="mode-name">Time Rush</div>
                </div>
                <div class="mode-card" onclick="game.startMode('shifting')">
                    <div class="mode-icon">üåä</div>
                    <div class="mode-name">Shifting Grid</div>
                </div>
            </div>

            <div style="margin-top: 20px; font-size: 0.9rem; color: #aaa;">
                <input type="checkbox" id="mystery-toggle"> <label for="mystery-toggle">Enable Mystery Word üïµÔ∏è</label>
            </div>
        </div>
    </div>

    <!-- Level Complete Modal -->
    <div id="level-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="level-complete-title">Niv√• Klar! üéâ</h2>
            <p>Bra jobbat!</p>
            <button class="modal-btn" onclick="game.nextLevel()">N√§sta Niv√• / ÿßŸÑÿ™ÿßŸÑŸä</button>
            <button class="modal-btn" style="background:transparent; border:1px solid #555; color:#fff;"
                onclick="game.showMenu()">Menu / ÿßŸÑŸÇÿßÿ¶ŸÖÿ©</button>
        </div>
    </div>

    <!-- Game Complete Modal -->
    <div id="game-complete-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="level-complete-title">Grattis! üèÜ</h2>
            <p>Du har klarat alla niv√•er!</p>
            <button class="modal-btn" onclick="window.location.href='games.html'">Avsluta / ÿÆÿ±Ÿàÿ¨</button>
        </div>
    </div>

    <!-- Game Over Modal (Time Rush) -->
    <div id="game-over-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="level-complete-title" style="color: #ff0055;">Game Over ‚è≥</h2>
            <p>Tiden √§r slut!</p>
            <button class="modal-btn" onclick="game.restartLevel()">Try Again / ÿ≠ÿßŸàŸÑ ŸÖÿ¨ÿØÿØÿßŸã</button>
            <button class="modal-btn" style="background:transparent; border:1px solid #555; color:#fff;"
                onclick="game.showMenu()">Menu / ÿßŸÑŸÇÿßÿ¶ŸÖÿ©</button>
        </div>
    </div>

    <script>
        /**
         * Sound Manager using Web Audio API
         */
        class SoundManager {
            constructor() {
                this.audioCtx = null;
                this.enabled = true;
            }

            init() {
                if (!this.audioCtx) {
                    this.audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                }
                if (this.audioCtx.state === 'suspended') {
                    this.audioCtx.resume();
                }
            }

            playTone(freq, type, duration, startTime = 0) {
                if (!this.enabled || !this.audioCtx) return;
                const osc = this.audioCtx.createOscillator();
                const gain = this.audioCtx.createGain();

                osc.type = type;
                osc.frequency.setValueAtTime(freq, this.audioCtx.currentTime + startTime);

                gain.gain.setValueAtTime(0.1, this.audioCtx.currentTime + startTime);
                gain.gain.exponentialRampToValueAtTime(0.01, this.audioCtx.currentTime + startTime + duration);

                osc.connect(gain);
                gain.connect(this.audioCtx.destination);

                osc.start(this.audioCtx.currentTime + startTime);
                osc.stop(this.audioCtx.currentTime + startTime + duration);
            }

            playClick() { this.playTone(600, 'sine', 0.1); }
            playConnect() { this.playTone(800, 'sine', 0.1); }
            playSuccess() {
                this.playTone(523.25, 'sine', 0.2, 0);
                this.playTone(659.25, 'sine', 0.2, 0.1);
                this.playTone(783.99, 'sine', 0.4, 0.2);
            }
            playLevelComplete() {
                if (!this.audioCtx) return;
                this.playTone(523.25, 'square', 0.2, 0);
                this.playTone(523.25, 'square', 0.2, 0.2);
                this.playTone(523.25, 'square', 0.2, 0.4);
                this.playTone(659.25, 'square', 0.6, 0.6);
                this.playTone(783.99, 'square', 0.8, 1.0);
            }
            playShift() { this.playTone(300, 'sawtooth', 0.3); }
        }

        /**
         * 10 Levels of Swedish Words Data
         */
        const LEVELS_DATA = [
            {
                level: 1,
                words: [
                    { w: "ADVOKAT", t: "ŸÖÿ≠ÿßŸÖŸä", s: "Han √§r en mycket bra advokat.", st: "ŸáŸà ŸÖÿ≠ÿßŸÖ ÿ¨ŸäÿØ ÿ¨ÿØÿßŸã." },
                    { w: "√ÑPPLE", t: "ÿ™ŸÅÿßÿ≠ÿ©", s: "Man b√∂r √§ta minst ett √§pple om dagen.", st: "Ÿäÿ¨ÿ® ÿπŸÑŸâ ÿßŸÑŸÖÿ±ÿ° ÿ£ŸÜ Ÿäÿ£ŸÉŸÑ ÿ™ŸÅÿßÿ≠ÿ© Ÿàÿßÿ≠ÿØÿ© ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ ŸÅŸä ÿßŸÑŸäŸàŸÖ." },
                    { w: "APOTEK", t: "ÿµŸäÿØŸÑŸäÿ©", s: "Jag g√•r till apoteket f√∂r medicin.", st: "ÿ£ÿ∞Ÿáÿ® ÿ•ŸÑŸâ ÿßŸÑÿµŸäÿØŸÑŸäÿ© ŸÑŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑÿØŸàÿßÿ°." },
                    { w: "ANSIKTE", t: "Ÿàÿ¨Ÿá", s: "Hon har ett mycket vackert och v√§nligt ansikte.", st: "ŸÑÿØŸäŸáÿß Ÿàÿ¨Ÿá ÿ¨ŸÖŸäŸÑ ÿ¨ÿØÿßŸã ŸàŸàÿØŸàÿØ." },
                    { w: "ALLA", t: "ÿßŸÑÿ¨ŸÖŸäÿπ", s: "Alla √§r v√§lkomna till v√•r fest.", st: "ÿßŸÑÿ¨ŸÖŸäÿπ ŸÖÿ±ÿ≠ÿ® ÿ®ŸáŸÖ ŸÅŸä ÿ≠ŸÅŸÑÿ™ŸÜÿß." },
                    { w: "√ÑNGEL", t: "ŸÖŸÑÿßŸÉ", s: "Du √§r en riktig √§ngel som hj√§lper mig.", st: "ÿ£ŸÜÿ™ ŸÖŸÑÿßŸÉ ÿ≠ŸÇŸäŸÇŸä ŸÑÿ£ŸÜŸÉ ÿ™ÿ≥ÿßÿπÿØŸÜŸä." },
                    { w: "ANKOMST", t: "ŸàÿµŸàŸÑ", s: "Vi v√§ntar ot√•ligt p√• t√•gets ankomst till stationen.", st: "ŸÜŸÜÿ™ÿ∏ÿ± ÿ®ŸÅÿßÿ±ÿ∫ ÿßŸÑÿµÿ®ÿ± ŸàÿµŸàŸÑ ÿßŸÑŸÇÿ∑ÿßÿ± ÿ•ŸÑŸâ ÿßŸÑŸÖÿ≠ÿ∑ÿ©." }
                ]
            },
            {
                level: 2,
                words: [
                    { w: "APRIKOS", t: "ŸÖÿ¥ŸÖÿ¥", s: "En torkad aprikos √§r ett nyttigt godis.", st: "ÿßŸÑŸÖÿ¥ŸÖÿ¥ ÿßŸÑŸÖÿ¨ŸÅŸÅ ŸáŸà ÿ≠ŸÑŸàŸâ ÿµÿ≠Ÿäÿ©." },
                    { w: "ARENA", t: "ŸÖŸÑÿπÿ®", s: "Det √§r en mycket stor arena.", st: "ÿ•ŸÜŸá ŸÖŸÑÿπÿ® ŸÉÿ®Ÿäÿ± ÿ¨ÿØÿßŸã." },
                    { w: "ARKIV", t: "ÿ£ÿ±ÿ¥ŸäŸÅ", s: "Alla viktiga dokumenten finns sparade i v√•rt arkiv.", st: "ÿ¨ŸÖŸäÿπ ÿßŸÑŸàÿ´ÿßÿ¶ŸÇ ÿßŸÑŸÖŸáŸÖÿ© ŸÖÿ≠ŸÅŸàÿ∏ÿ© ŸÅŸä ÿ£ÿ±ÿ¥ŸäŸÅŸÜÿß." },
                    { w: "ALPER", t: "ÿ¨ÿ®ÿßŸÑ ÿßŸÑÿ£ŸÑÿ®", s: "P√• semestern √•kte vi skidor i de h√∂ga Alperna.", st: "ŸÅŸä ÿßŸÑÿ•ÿ¨ÿßÿ≤ÿ© ÿ™ÿ≤ŸÑÿ¨ŸÜÿß ŸÅŸä ÿ¨ÿ®ÿßŸÑ ÿßŸÑÿ£ŸÑÿ® ÿßŸÑÿπÿßŸÑŸäÿ©." },
                    { w: "ANANAS", t: "ÿ£ŸÜÿßŸÜÿßÿ≥", s: "Ananas √§r en s√∂t och saftig tropisk frukt.", st: "ÿßŸÑÿ£ŸÜÿßŸÜÿßÿ≥ ŸÅÿßŸÉŸáÿ© ÿßÿ≥ÿ™Ÿàÿßÿ¶Ÿäÿ© ÿ≠ŸÑŸàÿ© Ÿàÿπÿµÿßÿ±Ÿäÿ©." },
                    { w: "ANDAS", t: "Ÿäÿ™ŸÜŸÅÿ≥", s: "Kom ih√•g att andas in djupt.", st: "ÿ™ÿ∞ŸÉÿ± ÿ£ŸÜ ÿ™ÿ™ŸÜŸÅÿ≥ ÿ®ÿπŸÖŸÇ." },
                    { w: "ALVAR", t: "ÿ≥ŸáŸÑ ÿ£ŸÑ⁄§ÿßÿ±", s: "√ñlands stora alvar √§r ett unikt landskap.", st: "ÿ≥ŸáŸÑ ÿ£ŸÑ⁄§ÿßÿ± ÿßŸÑŸÉÿ®Ÿäÿ± ŸÅŸä ÿ£ŸàŸÑÿßŸÜÿØ ŸáŸà ŸÖŸÜÿ∏ÿ± ÿ∑ÿ®ŸäÿπŸä ŸÅÿ±ŸäÿØ." }
                ]
            },
            {
                level: 3,
                words: [
                    { w: "ASTER", t: "ÿ≤Ÿáÿ±ÿ© ÿßŸÑŸÜÿ¨ŸÖÿ©", s: "I tr√§dg√•rden v√§xer en vacker lila aster.", st: "ÿ™ŸÜŸÖŸà ÿ≤Ÿáÿ±ÿ© ŸÜÿ¨ŸÖÿ© ÿ£ÿ±ÿ¨ŸàÿßŸÜŸäÿ© ÿ¨ŸÖŸäŸÑÿ© ŸÅŸä ÿßŸÑÿ≠ÿØŸäŸÇÿ©." },
                    { w: "ATLAS", t: "ÿ£ÿ∑ŸÑÿ≥", s: "Jag hittade landet in min atlas.", st: "Ÿàÿ¨ÿØÿ™ ÿßŸÑÿ®ŸÑÿØ ŸÅŸä ÿ£ÿ∑ŸÑÿ≥Ÿä." },
                    { w: "√ÑVENTYR", t: "ŸÖÿ∫ÿßŸÖÿ±ÿ©", s: "Att resa jorden runt √§r ett stort √§ventyr.", st: "ÿßŸÑÿ≥ŸÅÿ± ÿ≠ŸàŸÑ ÿßŸÑÿπÿßŸÑŸÖ ŸáŸà ŸÖÿ∫ÿßŸÖÿ±ÿ© ŸÉÿ®Ÿäÿ±ÿ©." },
                    { w: "AVTAL", t: "ÿßÿ™ŸÅÿßŸÇŸäÿ©", s: "Vi skrev √§ntligen p√• ett viktigt avtal ig√•r.", st: "ŸàŸÇÿπŸÜÿß ÿ£ÿÆŸäÿ±ÿßŸã ÿπŸÑŸâ ÿßÿ™ŸÅÿßŸÇŸäÿ© ŸÖŸáŸÖÿ© ŸäŸàŸÖ ÿ£ŸÖÿ≥." },
                    { w: "BADA", t: "Ÿäÿ≥ÿ™ÿ≠ŸÖ", s: "Jag vill bada bastu efter tr√§ningen idag.", st: "ÿ£ÿ±ŸäÿØ ÿßŸÑÿßÿ≥ÿ™ÿ≠ŸÖÿßŸÖ ŸÅŸä ÿßŸÑÿ≥ÿßŸàŸÜÿß ÿ®ÿπÿØ ÿßŸÑÿ™ŸÖÿ±ŸäŸÜ ÿßŸÑŸäŸàŸÖ." },
                    { w: "BADRUM", t: "ÿ≠ŸÖÿßŸÖ", s: "Jag tv√§ttar mig varje morgon i badrummet.", st: "ÿ£ÿ∫ÿ≥ŸÑ Ÿàÿ¨ŸáŸä ŸÉŸÑ ÿµÿ®ÿßÿ≠ ŸÅŸä ÿßŸÑÿ≠ŸÖÿßŸÖ." },
                    { w: "BAKA", t: "ŸäÿÆÿ®ÿ≤", s: "Vi ska baka en stor t√•rta till kalaset.", st: "ÿ≥ŸÜÿÆÿ®ÿ≤ ŸÉÿπŸÉÿ© ŸÉÿ®Ÿäÿ±ÿ© ŸÑŸÑÿ≠ŸÅŸÑÿ©." },
                    { w: "BALKONG", t: "ÿ¥ÿ±ŸÅÿ©", s: "Vi har blommor p√• v√•r balkong.", st: "ŸÑÿØŸäŸÜÿß ÿ≤ŸáŸàÿ± ŸÅŸä ÿ¥ÿ±ŸÅÿ™ŸÜÿß." }
                ]
            },
            {
                level: 4,
                words: [
                    { w: "BANAN", t: "ŸÖŸàÿ≤ÿ©", s: "Apor p√• zoo gillar att √§ta gula bananer.", st: "ÿßŸÑŸÇÿ±ŸàÿØ ŸÅŸä ÿ≠ÿØŸäŸÇÿ© ÿßŸÑÿ≠ŸäŸàÿßŸÜ ÿ™ÿ≠ÿ® ÿ£ŸÉŸÑ ÿßŸÑŸÖŸàÿ≤ ÿßŸÑÿ£ÿµŸÅÿ±." },
                    { w: "BASAR", t: "ÿ£ÿ≥ŸàÿßŸÇ", s: "Vi bes√∂kte en f√§rgstark basar under v√•r resa.", st: "ÿ≤ÿ±ŸÜÿß ÿ®ÿßÿ≤ÿßÿ±ÿßŸã ŸÖŸÑŸàŸÜÿßŸã ÿÆŸÑÿßŸÑ ÿ±ÿ≠ŸÑÿ™ŸÜÿß." },
                    { w: "BERG", t: "ÿ¨ÿ®ŸÑ", s: "Vi besteg ett mycket h√∂gt berg i somras.", st: "ÿ™ÿ≥ŸÑŸÇŸÜÿß ÿ¨ÿ®ŸÑÿßŸã ÿπÿßŸÑŸäÿßŸã ÿ¨ÿØÿßŸã ŸÅŸä ÿßŸÑÿµŸäŸÅ ÿßŸÑŸÖÿßÿ∂Ÿä." },
                    { w: "BER√ñM", t: "ŸÖÿØÿ≠", s: "Han fick ber√∂m f√∂r sitt goda arbete.", st: "ÿ™ŸÑŸÇŸâ ÿßŸÑŸÖÿØŸäÿ≠ ÿπŸÑŸâ ÿπŸÖŸÑŸá ÿßŸÑÿ¨ŸäÿØ." },
                    { w: "BEVIS", t: "ÿØŸÑŸäŸÑ", s: "Polisen har hittat nya avg√∂rande bevis i fallet.", st: "Ÿàÿ¨ÿØÿ™ ÿßŸÑÿ¥ÿ±ÿ∑ÿ© ÿ£ÿØŸÑÿ© ÿ≠ÿßÿ≥ŸÖÿ© ÿ¨ÿØŸäÿØÿ© ŸÅŸä ÿßŸÑŸÇÿ∂Ÿäÿ©." },
                    { w: "BIFF", t: "ÿ¥ÿ±Ÿäÿ≠ÿ© ŸÑÿ≠ŸÖ", s: "Jag vill ha en saftig biff.", st: "ÿ£ÿ±ŸäÿØ ÿ¥ÿ±Ÿäÿ≠ÿ© ŸÑÿ≠ŸÖ ÿπÿµÿßÿ±Ÿäÿ©." },
                    { w: "BILIST", t: "ÿ≥ÿßÿ¶ŸÇ", s: "Varje bilist m√•ste vara uppm√§rksam i trafiken.", st: "Ÿäÿ¨ÿ® ÿπŸÑŸâ ŸÉŸÑ ÿ≥ÿßÿ¶ŸÇ ÿ£ŸÜ ŸäŸÉŸàŸÜ ŸÖŸÜÿ™ÿ®ŸáÿßŸã ŸÅŸä ÿ≠ÿ±ŸÉÿ© ÿßŸÑŸÖÿ±Ÿàÿ±." },
                    { w: "BILJETT", t: "ÿ™ÿ∞ŸÉÿ±ÿ©", s: "Jag har k√∂pt en biljett till t√•get.", st: "ÿßÿ¥ÿ™ÿ±Ÿäÿ™ ÿ™ÿ∞ŸÉÿ±ÿ© ŸÑŸÑŸÇÿ∑ÿßÿ±." }
                ]
            },
            {
                level: 5,
                words: [
                    { w: "BJ√ñRK", t: "ÿ¥ÿ¨ÿ±ÿ© ÿßŸÑÿ®ÿ™ŸàŸÑÿß", s: "Bj√∂rken √§r ett tr√§d som har en vit stam.", st: "ÿ¥ÿ¨ÿ±ÿ© ÿßŸÑÿ®ÿ™ŸàŸÑÿß ŸáŸä ÿ¥ÿ¨ÿ±ÿ© ŸÑŸáÿß ÿ¨ÿ∞ÿπ ÿ£ÿ®Ÿäÿ∂." },
                    { w: "BJ√ñRN", t: "ÿØÿ®", s: "Den stora bj√∂rnen sover djupt i sitt ide.", st: "ÿßŸÑÿØÿ® ÿßŸÑŸÉÿ®Ÿäÿ± ŸäŸÜÿßŸÖ ÿ®ÿπŸÖŸÇ ŸÅŸä ÿ≥ÿ®ÿßÿ™Ÿá." },
                    { w: "BJ√ñRNB√ÑR", t: "ÿ™Ÿàÿ™ ÿßŸÑÿπŸÑŸäŸÇ", s: "Skogen √§r full av svarta bj√∂rnb√§r.", st: "ÿßŸÑÿ∫ÿßÿ®ÿ© ŸÖŸÑŸäÿ¶ÿ© ÿ®ÿ™Ÿàÿ™ ÿßŸÑÿπŸÑŸäŸÇ ÿßŸÑÿ£ÿ≥ŸàÿØ." },
                    { w: "BL√ÖB√ÑR", t: "ÿ™Ÿàÿ™ ÿ£ÿ≤ÿ±ŸÇ", s: "Vi plockar m√•nga bl√•b√§r i skogen varje h√∂st.", st: "ŸÜŸÇÿ∑ŸÅ ÿßŸÑŸÉÿ´Ÿäÿ± ŸÖŸÜ ÿßŸÑÿ™Ÿàÿ™ ÿßŸÑÿ£ÿ≤ÿ±ŸÇ ŸÅŸä ÿßŸÑÿ∫ÿßÿ®ÿ© ŸÉŸÑ ÿÆÿ±ŸäŸÅ." },
                    { w: "BLAD", t: "Ÿàÿ±ŸÇÿ© ÿ¥ÿ¨ÿ±", s: "Tr√§dens gr√∂na blad faller ner p√• marken p√• h√∂sten.", st: "ÿ£Ÿàÿ±ÿßŸÇ ÿßŸÑÿ£ÿ¥ÿ¨ÿßÿ± ÿßŸÑÿÆÿ∂ÿ±ÿßÿ° ÿ™ÿ™ÿ≥ÿßŸÇÿ∑ ÿπŸÑŸâ ÿßŸÑÿ£ÿ±ÿ∂ ŸÅŸä ÿßŸÑÿÆÿ±ŸäŸÅ." },
                    { w: "BLOCK", t: "ÿØŸÅÿ™ÿ±", s: "Jag skriver anteckningar i mitt block.", st: "ÿ£ŸÉÿ™ÿ® ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ ŸÅŸä ÿØŸÅÿ™ÿ±Ÿä." },
                    { w: "BLOD", t: "ÿØŸÖ", s: "M√§nniskans blod √§r alltid r√∂tt.", st: "ÿØŸÖ ÿßŸÑÿ•ŸÜÿ≥ÿßŸÜ ÿ£ÿ≠ŸÖÿ± ÿØÿßÿ¶ŸÖÿßŸã." },
                    { w: "BOD", t: "ŸÉŸàÿÆ", s: "Vi har en bod p√• g√•rden.", st: "ŸÑÿØŸäŸÜÿß ŸÉŸàÿÆ ŸÅŸä ÿßŸÑŸÅŸÜÿßÿ°." },
                    { w: "BOK", t: "ŸÉÿ™ÿßÿ®", s: "Jag l√§ser en sp√§nnande bok just nu.", st: "ÿ£ŸÇÿ±ÿ£ ŸÉÿ™ÿßÿ®ÿßŸã ŸÖÿ¥ŸàŸÇÿßŸã ÿßŸÑÿ¢ŸÜ." }
                ]
            },
            {
                level: 6,
                words: [
                    { w: "BORD", t: "ÿ∑ÿßŸàŸÑÿ©", s: "Maten st√•r f√§rdig och varm p√• k√∂ksbordet.", st: "ÿßŸÑÿ∑ÿπÿßŸÖ ÿ¨ÿßŸáÿ≤ ŸàÿØÿßŸÅÿ¶ ÿπŸÑŸâ ÿ∑ÿßŸàŸÑÿ© ÿßŸÑŸÖÿ∑ÿ®ÿÆ." },
                    { w: "BORSTA", t: "ŸäŸÅÿ±ÿ¥", s: "Kom ih√•g att borsta t√§nderna noga varje kv√§ll.", st: "ÿ™ÿ∞ŸÉÿ± ÿ£ŸÜ ÿ™ŸÅÿ±ÿ¥ ÿ£ÿ≥ŸÜÿßŸÜŸÉ ÿ¨ŸäÿØÿßŸã ŸÉŸÑ ŸÖÿ≥ÿßÿ°." },
                    { w: "B√ñN", t: "ÿµŸÑÿßÿ©", s: "Hon bad en stilla b√∂n i kyrkan.", st: "ÿµŸÑÿ™ ÿµŸÑÿßÿ© ŸáÿßÿØÿ¶ÿ© ŸÅŸä ÿßŸÑŸÉŸÜŸäÿ≥ÿ©." },
                    { w: "BRO", t: "ÿ¨ÿ≥ÿ±", s: "Vi promenerade √∂ver den gamla bron.", st: "ŸÖÿ¥ŸäŸÜÿß ŸÅŸàŸÇ ÿßŸÑÿ¨ÿ≥ÿ± ÿßŸÑŸÇÿØŸäŸÖ." },
                    { w: "BR√ñD", t: "ÿÆÿ®ÿ≤", s: "F√§rskt br√∂d fr√•n ugnen doftar alltid gott.", st: "ÿßŸÑÿÆÿ®ÿ≤ ÿßŸÑÿ∑ÿßÿ≤ÿ¨ ŸÖŸÜ ÿßŸÑŸÅÿ±ŸÜ ŸÑŸá ÿ±ÿßÿ¶ÿ≠ÿ© ÿ∑Ÿäÿ®ÿ© ÿØÿßÿ¶ŸÖÿßŸã." },
                    { w: "BROR", t: "ÿ£ÿÆ", s: "Min sn√§lla bror leker ofta fotboll med mig.", st: "ÿ£ÿÆŸä ÿßŸÑŸÑÿ∑ŸäŸÅ ŸäŸÑÿπÿ® ŸÉÿ±ÿ© ÿßŸÑŸÇÿØŸÖ ŸÖÿπŸä ÿ∫ÿßŸÑÿ®ÿßŸã." },
                    { w: "B√ñTER", t: "ÿ∫ÿ±ÿßŸÖÿßÿ™", s: "Han fick betala dyra b√∂ter f√∂r fortk√∂rning.", st: "ÿßÿ∂ÿ∑ÿ± ŸÑÿØŸÅÿπ ÿ∫ÿ±ÿßŸÖÿßÿ™ ÿ®ÿßŸáÿ∏ÿ© ÿ®ÿ≥ÿ®ÿ® ÿßŸÑÿ≥ÿ±ÿπÿ© ÿßŸÑÿ≤ÿßÿ¶ÿØÿ©." },
                    { w: "BUSS", t: "ÿ≠ÿßŸÅŸÑÿ©", s: "Bussen till staden √§r tyv√§rr sen idag.", st: "ÿßŸÑÿ≠ÿßŸÅŸÑÿ© ÿßŸÑŸÖÿ™ÿ¨Ÿáÿ© ÿ•ŸÑŸâ ÿßŸÑŸÖÿØŸäŸÜÿ© ŸÖÿ™ÿ£ÿÆÿ±ÿ© ŸÑŸÑÿ£ÿ≥ŸÅ ÿßŸÑŸäŸàŸÖ." },
                    { w: "BULLAR", t: "ŸÉÿπŸÉ", s: "Vi √§ter nygr√§ddade bullar med mj√∂lk.", st: "ŸÜÿ£ŸÉŸÑ ÿßŸÑŸÉÿπŸÉ ÿßŸÑÿ∑ÿßÿ≤ÿ¨ ŸÖÿπ ÿßŸÑÿ≠ŸÑŸäÿ®." }
                ]
            },
            {
                level: 7,
                words: [
                    { w: "CYKEL", t: "ÿØÿ±ÿßÿ¨ÿ©", s: "Det √§r b√•de roligt och nyttigt att cykla.", st: "ŸÖŸÜ ÿßŸÑŸÖŸÖÿ™ÿπ ŸàÿßŸÑŸÖŸÅŸäÿØ ÿ±ŸÉŸàÿ® ÿßŸÑÿØÿ±ÿßÿ¨ÿ©." },
                    { w: "CIRKUS", t: "ÿ≥Ÿäÿ±ŸÉ", s: "Vi gick p√• cirkus och s√•g roliga clowner.", st: "ÿ∞Ÿáÿ®ŸÜÿß ÿ•ŸÑŸâ ÿßŸÑÿ≥Ÿäÿ±ŸÉ Ÿàÿ±ÿ£ŸäŸÜÿß ŸÖŸáÿ±ÿ¨ŸäŸÜ ŸÖÿ∂ÿ≠ŸÉŸäŸÜ." },
                    { w: "DANS", t: "ÿ±ŸÇÿµ", s: "F√•r jag lov till en dans?", st: "ŸáŸÑ ÿ™ÿ≥ŸÖÿ≠ŸäŸÜ ŸÑŸä ÿ®ÿ±ŸÇÿµÿ©ÿü" },
                    { w: "DATOR", t: "ÿ≠ÿßÿ≥Ÿàÿ®", s: "Jag arbetar vid min nya dator varje dag.", st: "ÿ£ÿπŸÖŸÑ ÿπŸÑŸâ ÿ≠ÿßÿ≥Ÿàÿ®Ÿä ÿßŸÑÿ¨ÿØŸäÿØ ŸÉŸÑ ŸäŸàŸÖ." },
                    { w: "DOTTER", t: "ÿßÿ®ŸÜÿ©", s: "Hon √§r en mycket smart och duktig dotter.", st: "ŸáŸä ÿßÿ®ŸÜÿ© ÿ∞ŸÉŸäÿ© ÿ¨ÿØÿßŸã ŸàŸÖŸàŸáŸàÿ®ÿ©." },
                    { w: "DUSCH", t: "ÿØÿ¥", s: "Jag tar en varm och sk√∂n dusch p√• morgonen.", st: "ÿ¢ÿÆÿ∞ ÿØÿ¥ÿßŸã ÿØÿßŸÅÿ¶ÿßŸã ŸàŸÖÿ±Ÿäÿ≠ÿßŸã ŸÅŸä ÿßŸÑÿµÿ®ÿßÿ≠." },
                    { w: "D√ñRR", t: "ÿ®ÿßÿ®", s: "St√§ng d√∂rren, det drar kallt.", st: "ÿ£ÿ∫ŸÑŸÇ ÿßŸÑÿ®ÿßÿ®ÿå ŸáŸÜÿßŸÉ ÿ™Ÿäÿßÿ± ŸáŸàÿßÿ° ÿ®ÿßÿ±ÿØ." },
                    { w: "DOMARE", t: "ŸÇÿßÿ∂Ÿä", s: "Han √§r en mycket r√§ttvis domare.", st: "ŸáŸà ŸÇÿßÿ∂ ÿπÿßÿØŸÑ ÿ¨ÿØÿßŸã." },
                    { w: "FAMILJ", t: "ÿπÿßÿ¶ŸÑÿ©", s: "Jag √§lskar att spendera tid med min familj.", st: "ÿ£ÿ≠ÿ® ŸÇÿ∂ÿßÿ° ÿßŸÑŸàŸÇÿ™ ŸÖÿπ ÿπÿßÿ¶ŸÑÿ™Ÿä." },
                    { w: "FARTYG", t: "ÿ≥ŸÅŸäŸÜÿ©", s: "Det stora fartyget seglar l√•ngt bort p√• havet.", st: "ÿßŸÑÿ≥ŸÅŸäŸÜÿ© ÿßŸÑŸÉÿ®Ÿäÿ±ÿ© ÿ™ÿ®ÿ≠ÿ± ÿ®ÿπŸäÿØÿßŸã ŸÅŸä ÿßŸÑÿ®ÿ≠ÿ±." },
                ]
            },
            {
                level: 8,
                words: [
                    { w: "F√ÑRSK", t: "ÿ∑ÿßÿ≤ÿ¨", s: "F√§rsk fisk fr√•n havet smakar alltid b√§st.", st: "ÿßŸÑÿ≥ŸÖŸÉ ÿßŸÑÿ∑ÿßÿ≤ÿ¨ ŸÖŸÜ ÿßŸÑÿ®ÿ≠ÿ± ÿ∑ÿπŸÖŸá ÿßŸÑÿ£ŸÅÿ∂ŸÑ ÿØÿßÿ¶ŸÖÿßŸã." },
                    { w: "F√ÑRJA", t: "ÿπÿ®Ÿëÿßÿ±ÿ©", s: "Vi tog f√§rjan √∂ver havet till Danmark.", st: "ÿ£ÿÆÿ∞ŸÜÿß ÿßŸÑÿπÿ®ÿßÿ±ÿ© ÿπÿ®ÿ± ÿßŸÑÿ®ÿ≠ÿ± ÿ•ŸÑŸâ ÿßŸÑÿØŸÜŸÖÿßÿ±ŸÉ." },
                    { w: "F√ÑRD", t: "ÿ±ÿ≠ŸÑÿ©", s: "Vi tar en f√§rd till Oslo.", st: "ŸÜÿ£ÿÆÿ∞ ÿ±ÿ≠ŸÑÿ© ÿ•ŸÑŸâ ÿ£Ÿàÿ≥ŸÑŸà." },
                    { w: "FANA", t: "ÿ±ÿßŸäÿ©", s: "De bar en fana in t√•get.", st: "ÿ≠ŸÖŸÑŸàÿß ÿ±ÿßŸäÿ© ŸÅŸä ÿßŸÑŸÖŸàŸÉÿ®." },
                    { w: "FALSK", t: "ÿ≤ÿßÿ¶ŸÅ", s: "Det d√§r skrattet l√•ter v√§ldigt falskt.", st: "ÿ™ŸÑŸÉ ÿßŸÑÿ∂ÿ≠ŸÉÿ© ÿ™ÿ®ÿØŸà ŸÖÿµÿ∑ŸÜÿπÿ© ÿ¨ÿØÿßŸã." },
                    { w: "ENERGI", t: "ÿ∑ÿßŸÇÿ©", s: "Solenergi √§r bra f√∂r v√•r milj√∂.", st: "ÿßŸÑÿ∑ÿßŸÇÿ© ÿßŸÑÿ¥ŸÖÿ≥Ÿäÿ© ÿ¨ŸäÿØÿ© ŸÑÿ®Ÿäÿ¶ÿ™ŸÜÿß." },
                    { w: "EKA", t: "ŸÇÿßÿ±ÿ®", s: "Vi rodde ut i en eka.", st: "ÿ¨ÿØŸÅŸÜÿß ÿ®ŸÇÿßÿ±ÿ® ÿµÿ∫Ÿäÿ±." },
                    { w: "EK", t: "ÿ¥ÿ¨ÿ±ÿ© ÿ®ŸÑŸàÿ∑", s: "Eken √§r ett mycket starkt och gammalt tr√§d.", st: "ÿ¥ÿ¨ÿ±ÿ© ÿßŸÑÿ®ŸÑŸàÿ∑ ŸáŸä ÿ¥ÿ¨ÿ±ÿ© ŸÇŸàŸäÿ© ÿ¨ÿØÿßŸã ŸàŸÇÿØŸäŸÖÿ©." },
                    { w: "DYR", t: "ÿ∫ÿßŸÑŸä", s: "Den nya r√∂da bilen var alldeles f√∂r dyr.", st: "ÿßŸÑÿ≥Ÿäÿßÿ±ÿ© ÿßŸÑÿ≠ŸÖÿ±ÿßÿ° ÿßŸÑÿ¨ÿØŸäÿØÿ© ŸÉÿßŸÜÿ™ ÿ∫ÿßŸÑŸäÿ© ÿ¨ÿØÿßŸã." },
                    { w: "DRIVA", t: "ŸäŸÜÿ¨ÿ±ŸÅ", s: "Vinden f√•r b√•ten att driva iv√§g.", st: "ÿßŸÑÿ±Ÿäÿßÿ≠ ÿ™ÿ¨ÿπŸÑ ÿßŸÑŸÇÿßÿ±ÿ® ŸäŸÜÿ¨ÿ±ŸÅ ÿ®ÿπŸäÿØÿßŸã." }
                ]
            },
            {
                level: 9,
                words: [
                    { w: "DATORN", t: "ÿßŸÑÿ≠ÿßÿ≥Ÿàÿ®", s: "Den h√§r datorn √§r helt ny.", st: "Ÿáÿ∞ÿß ÿßŸÑÿ≠ÿßÿ≥Ÿàÿ® ÿ¨ÿØŸäÿØ ÿ™ŸÖÿßŸÖÿßŸã." },
                    { w: "DATA", t: "ÿ®ŸäÿßŸÜÿßÿ™", s: "Du m√•ste spara all din data.", st: "Ÿäÿ¨ÿ® ÿπŸÑŸäŸÉ ÿ≠ŸÅÿ∏ ÿ¨ŸÖŸäÿπ ÿ®ŸäÿßŸÜÿßÿ™ŸÉ." },
                    { w: "DASS", t: "ÿ®Ÿäÿ™ ÿÆŸÑÿßÿ°", s: "Jag m√•ste g√• p√• dass nu.", st: "Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ£ÿ∞Ÿáÿ® ÿ•ŸÑŸâ ÿ®Ÿäÿ™ ÿßŸÑÿÆŸÑÿßÿ° ÿßŸÑÿ¢ŸÜ." },
                    { w: "DAL", t: "ŸàÿßÿØŸä", s: "Huset ligger i en gr√∂n dal.", st: "ŸäŸÇÿπ ÿßŸÑŸÖŸÜÿ≤ŸÑ ŸÅŸä ŸàÿßÿØŸä ÿ£ÿÆÿ∂ÿ±." },
                    { w: "DAG", t: "ŸäŸàŸÖ", s: "Det √§r en vacker dag idag.", st: "ÿ•ŸÜŸá ŸäŸàŸÖ ÿ¨ŸÖŸäŸÑ ÿßŸÑŸäŸàŸÖ." },
                    { w: "CHEF", t: "ÿ±ÿ¶Ÿäÿ≥ ÿßŸÑÿπŸÖŸÑ", s: "Min chef p√• jobbet √§r mycket sn√§ll och r√§ttvis.", st: "ÿ±ÿ¶Ÿäÿ≥Ÿä ŸÅŸä ÿßŸÑÿπŸÖŸÑ ŸÑÿ∑ŸäŸÅ ÿ¨ÿØÿßŸã ŸàÿπÿßÿØŸÑ." },
                    { w: "BYGGA", t: "Ÿäÿ®ŸÜŸä", s: "Vi ska bygga ett nytt hus.", st: "ÿ≥ŸÜÿ®ŸÜŸä ŸÖŸÜÿ≤ŸÑÿßŸã ÿ¨ÿØŸäÿØÿßŸã." },
                    { w: "BYGG", t: "ÿ®ŸÜÿßÿ°", s: "Detta √§r ett mycket stabilt och s√§kert bygg.", st: "Ÿáÿ∞ÿß ÿ®ŸÜÿßÿ° ŸÖÿ≥ÿ™ŸÇÿ± Ÿàÿ¢ŸÖŸÜ ÿ¨ÿØÿßŸã." },
                    { w: "BUSSAR", t: "ÿ≠ÿßŸÅŸÑÿßÿ™", s: "M√•nga bl√• bussar g√•r in till centrum varje dag.", st: "ÿßŸÑÿπÿØŸäÿØ ŸÖŸÜ ÿßŸÑÿ≠ÿßŸÅŸÑÿßÿ™ ÿßŸÑÿ≤ÿ±ŸÇÿßÿ° ÿ™ÿ∞Ÿáÿ® ÿ•ŸÑŸâ ÿßŸÑŸÖÿ±ŸÉÿ≤ ŸÉŸÑ ŸäŸàŸÖ." },
                    { w: "BUSKAR", t: "ÿ¥ÿ¨Ÿäÿ±ÿßÿ™", s: "Katten g√∂mde sig i buskarna.", st: "ÿßÿÆÿ™ÿ®ÿ£ÿ™ ÿßŸÑŸÇÿ∑ÿ© ÿ®ŸäŸÜ ÿßŸÑÿ¥ÿ¨Ÿäÿ±ÿßÿ™." },
                    { w: "BUR", t: "ŸÇŸÅÿµ", s: "F√•geln sitter och sjunger i sin lilla bur.", st: "ÿßŸÑÿ∑ÿßÿ¶ÿ± Ÿäÿ¨ŸÑÿ≥ ŸàŸäÿ∫ŸÜŸä ŸÅŸä ŸÇŸÅÿµŸá ÿßŸÑÿµÿ∫Ÿäÿ±." },
                ]
            },
            {
                level: 10,
                words: [
                    { w: "BRUSA", t: "ŸäŸÅŸàÿ±", s: "Vattnet i forsen b√∂rjade brusa h√∂gt.", st: "ÿ®ÿØÿ£ ÿßŸÑŸÖÿßÿ° ŸÅŸä ÿßŸÑÿ¥ŸÑÿßŸÑ ŸäŸÅŸàÿ± ÿ®ÿµŸàÿ™ ÿπÿßŸÑŸç." },
                    { w: "BRUKA", t: "ŸäŸÅŸÑÿ≠", s: "Bonden m√•ste bruka jorden f√∂r att f√• sk√∂rd.", st: "Ÿäÿ¨ÿ® ÿπŸÑŸâ ÿßŸÑŸÖÿ≤ÿßÿ±ÿπ ŸÅŸÑÿßÿ≠ÿ© ÿßŸÑÿ£ÿ±ÿ∂ ŸÑŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑŸÖÿ≠ÿµŸàŸÑ." },
                    { w: "BROTT", t: "ÿ¨ÿ±ŸäŸÖÿ©", s: "Att stj√§la fr√•n andra √§r ett allvarligt brott.", st: "ÿßŸÑÿ≥ÿ±ŸÇÿ© ŸÖŸÜ ÿßŸÑÿ¢ÿÆÿ±ŸäŸÜ ŸáŸä ÿ¨ÿ±ŸäŸÖÿ© ÿÆÿ∑Ÿäÿ±ÿ©." },
                    { w: "BR√ñST", t: "ÿµÿØÿ±", s: "Mamman gav den lilla babyn mat fr√•n br√∂stet.", st: "ÿ£ÿπÿ∑ÿ™ ÿßŸÑÿ£ŸÖ ÿßŸÑÿ∑ŸÅŸÑ ÿßŸÑÿµÿ∫Ÿäÿ± ÿßŸÑÿ∑ÿπÿßŸÖ ŸÖŸÜ ÿµÿØÿ±Ÿáÿß." },
                    { w: "BRODER", t: "ÿ£ÿÆ", s: "Han √§r min k√§ra broder som jag litar p√•.", st: "ŸáŸà ÿ£ÿÆŸä ÿßŸÑÿπÿ≤Ÿäÿ≤ ÿßŸÑÿ∞Ÿä ÿ£ÿ´ŸÇ ÿ®Ÿá." },
                    { w: "BRE", t: "ŸäÿØŸáŸÜ", s: "Du kan bre lite mjukt sm√∂r p√• br√∂det.", st: "ŸäŸÖŸÉŸÜŸÉ ÿØŸáŸÜ ÿßŸÑŸÇŸÑŸäŸÑ ŸÖŸÜ ÿßŸÑÿ≤ÿ®ÿØÿ© ÿßŸÑÿ∑ÿ±Ÿäÿ© ÿπŸÑŸâ ÿßŸÑÿÆÿ®ÿ≤." },
                    { w: "BRAS", t: "ŸÜÿßÿ±", s: "Vi t√§nde en bras i √∂ppna spisen.", st: "ÿ£ÿ¥ÿπŸÑŸÜÿß ŸÜÿßÿ±ÿßŸã ŸÅŸä ÿßŸÑŸÖÿØŸÅÿ£ÿ©." },
                    { w: "BOTT", t: "ÿ≥ŸÉŸÜ", s: "Jag har bott h√§r i hela mitt liv.", st: "ŸÑŸÇÿØ ÿπÿ¥ÿ™ ŸáŸÜÿß ÿ∑ŸàÿßŸÑ ÿ≠Ÿäÿßÿ™Ÿä." },
                    { w: "B√ñT", t: "ŸÉŸÅÿ±", s: "Han b√∂t f√∂r sina synder genom att hj√§lpa andra.", st: "ŸÉŸÅÿ± ÿπŸÜ ÿ∞ŸÜŸàÿ®Ÿá ÿ®ŸÖÿ≥ÿßÿπÿØÿ© ÿßŸÑÿ¢ÿÆÿ±ŸäŸÜ." },
                    { w: "BOT", t: "ÿ∫ÿ±ÿßŸÖÿ©", s: "Han fick betala en stor bot.", st: "ÿßÿ∂ÿ∑ÿ± ŸÑÿØŸÅÿπ ÿ∫ÿ±ÿßŸÖÿ© ŸÉÿ®Ÿäÿ±ÿ©." },
                    { w: "BULLAR", t: "ŸÉÿπŸÉ", s: "Mormor bakar goda nygr√§ddade bullar.", st: "ÿßŸÑÿ¨ÿØÿ© ÿ™ÿÆÿ®ÿ≤ ŸÉÿπŸÉÿßŸã ÿ∑ÿßÿ≤ÿ¨ÿßŸã ŸÑÿ∞Ÿäÿ∞ÿßŸã." }
                ]
            }
        ];

        /**
         * Word Search Game Engine
         */
        class WordSearchGame {
            constructor() {
                this.currentLevelIndex = 0;
                this.gridSize = { rows: 10, cols: 8 };
                this.grid = [];
                this.foundWords = new Set();
                this.soundManager = new SoundManager();
                this.mode = 'classic';
                this.mysteryEnabled = false;
                this.mysteryWord = null;
                this.timer = 0;
                this.timerInterval = null;
                this.shiftInterval = null;

                // DOM Elements
                this.gridEl = document.getElementById('grid');
                this.wordBankEl = document.getElementById('word-bank');
                this.floatingLabel = document.getElementById('floating-label');
                this.levelDisplay = document.getElementById('level-display');
                this.bottomInfoPanel = document.getElementById('bottom-info-panel');
                this.flashlightEl = document.getElementById('flashlight-overlay');
                this.timerEl = document.getElementById('timer-display');
                this.mysteryHintEl = document.getElementById('mystery-hint');
                this.mysteryTextEl = document.getElementById('mystery-text');

                // Modals
                this.levelModal = document.getElementById('level-modal');
                this.gameCompleteModal = document.getElementById('game-complete-modal');
                this.mainMenu = document.getElementById('main-menu');
                this.gameOverModal = document.getElementById('game-over-modal');

                // State
                this.isDragging = false;
                this.startCell = null;
                this.currentSelection = [];

                // Initialize Audio Context on first user interaction
                this.handleInteraction = () => {
                    this.soundManager.init();
                    window.removeEventListener('touchstart', this.handleInteraction);
                    window.removeEventListener('mousedown', this.handleInteraction);
                    window.removeEventListener('keydown', this.handleInteraction);
                };
                window.addEventListener('touchstart', this.handleInteraction);
                window.addEventListener('mousedown', this.handleInteraction);
                window.addEventListener('keydown', this.handleInteraction);
            }

            startMode(mode) {
                this.mode = mode;
                this.mysteryEnabled = document.getElementById('mystery-toggle').checked;
                this.mainMenu.classList.remove('active');
                this.currentLevelIndex = 0;

                // Reset UI
                this.flashlightEl.style.display = mode === 'flashlight' ? 'block' : 'none';
                this.timerEl.style.display = mode === 'timerush' ? 'block' : 'none';

                if (mode === 'flashlight') this.initFlashlight();

                this.initLevel(this.currentLevelIndex);
            }

            showMenu() {
                this.stopTimer();
                this.stopShifting();
                this.levelModal.classList.remove('active');
                this.gameOverModal.classList.remove('active');
                this.mainMenu.classList.add('active');
            }

            initLevel(levelIndex) {
                if (levelIndex >= LEVELS_DATA.length) {
                    this.gameCompleteModal.classList.add('active');
                    this.soundManager.playLevelComplete();
                    return;
                }

                this.currentLevelData = LEVELS_DATA[levelIndex];
                this.words = this.currentLevelData.words.map(item => item.w.toUpperCase());
                this.foundWords.clear();
                this.levelDisplay.textContent = this.currentLevelData.level;
                this.bottomInfoPanel.classList.remove('active');
                this.mysteryWord = null;
                this.mysteryHintEl.style.display = 'none';

                // Mystery Word Logic
                if (this.mysteryEnabled) {
                    // Pick a word from next level or previous level as mystery
                    const otherLevel = LEVELS_DATA[(levelIndex + 1) % LEVELS_DATA.length];
                    const mw = otherLevel.words[Math.floor(Math.random() * otherLevel.words.length)];
                    this.mysteryWord = mw.w.toUpperCase();
                    this.mysteryHintEl.style.display = 'block';
                    this.mysteryTextEl.textContent = mw.t; // Show translation as hint
                    // Add to words list for placement but NOT for word bank
                    this.words.push(this.mysteryWord);
                }

                this.setupGrid();
                this.placeWords();
                this.fillEmptyCells();
                this.renderGrid();
                this.renderWordBank();
                this.attachEvents();

                // Mode Specific Init
                this.stopTimer();
                this.stopShifting();

                if (this.mode === 'timerush') {
                    this.timer = 60;
                    this.updateTimerDisplay();
                    this.timerInterval = setInterval(() => {
                        this.timer--;
                        this.updateTimerDisplay();
                        if (this.timer <= 0) this.gameOver();
                    }, 1000);
                }

                if (this.mode === 'shifting') {
                    this.shiftInterval = setInterval(() => this.shiftGrid(), 10000);
                }
            }

            updateTimerDisplay() {
                this.timerEl.textContent = `${this.timer}s`;
                this.timerEl.style.color = this.timer < 10 ? '#ff0055' : '#ff00ff';
            }

            gameOver() {
                this.stopTimer();
                this.gameOverModal.classList.add('active');
            }

            restartLevel() {
                this.gameOverModal.classList.remove('active');
                this.initLevel(this.currentLevelIndex);
            }

            stopTimer() { if (this.timerInterval) clearInterval(this.timerInterval); }
            stopShifting() { if (this.shiftInterval) clearInterval(this.shiftInterval); }

            initFlashlight() {
                const move = (e) => {
                    const t = e.touches ? e.touches[0] : e;
                    const r = this.gridEl.getBoundingClientRect();
                    const x = t.clientX - r.left;
                    const y = t.clientY - r.top;
                    this.flashlightEl.style.setProperty('--x', x + 'px');
                    this.flashlightEl.style.setProperty('--y', y + 'px');
                };
                window.addEventListener('mousemove', move);
                window.addEventListener('touchmove', move);
            }

            shiftGrid() {
                this.soundManager.playShift();
                // Shift rows down
                const lastRow = this.grid[this.gridSize.rows - 1];
                for (let r = this.gridSize.rows - 1; r > 0; r--) {
                    this.grid[r] = this.grid[r - 1];
                }
                this.grid[0] = lastRow;

                // Re-render
                this.renderGrid();

                // Visual feedback
                this.gridEl.style.transform = 'translateY(5px)';
                setTimeout(() => this.gridEl.style.transform = 'none', 200);
            }

            setupGrid() {
                for (let r = 0; r < this.gridSize.rows; r++) {
                    this.grid[r] = [];
                    for (let c = 0; c < this.gridSize.cols; c++) {
                        this.grid[r][c] = null;
                    }
                }
                this.gridEl.style.gridTemplateColumns = `repeat(${this.gridSize.cols}, 1fr)`;
            }

            placeWords() {
                const sortedWords = [...this.words].sort((a, b) => b.length - a.length);
                for (const word of sortedWords) {
                    let placed = false;
                    let attempts = 0;
                    while (!placed && attempts < 100) {
                        placed = this.tryPlaceWord(word);
                        attempts++;
                    }
                    if (!placed) console.warn(`Could not place word: ${word}`);
                }
            }

            tryPlaceWord(word) {
                const directions = [
                    { r: 0, c: 1 }, { r: 1, c: 0 }, { r: 1, c: 1 }, { r: -1, c: 1 },
                    { r: 0, c: -1 }, { r: -1, c: 0 }, { r: -1, c: -1 }, { r: 1, c: -1 }
                ];
                const dir = directions[Math.floor(Math.random() * directions.length)];
                const startR = Math.floor(Math.random() * this.gridSize.rows);
                const startC = Math.floor(Math.random() * this.gridSize.cols);

                for (let i = 0; i < word.length; i++) {
                    const r = startR + (i * dir.r);
                    const c = startC + (i * dir.c);
                    if (r < 0 || r >= this.gridSize.rows || c < 0 || c >= this.gridSize.cols) return false;
                    const existingChar = this.grid[r][c];
                    if (existingChar !== null && existingChar !== word[i]) return false;
                }

                for (let i = 0; i < word.length; i++) {
                    const r = startR + (i * dir.r);
                    const c = startC + (i * dir.c);
                    this.grid[r][c] = word[i];
                }
                return true;
            }

            fillEmptyCells() {
                const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ√Ö√Ñ√ñ";
                for (let r = 0; r < this.gridSize.rows; r++) {
                    for (let c = 0; c < this.gridSize.cols; c++) {
                        if (this.grid[r][c] === null) {
                            this.grid[r][c] = alphabet[Math.floor(Math.random() * alphabet.length)];
                        }
                    }
                }
            }

            renderGrid() {
                this.gridEl.innerHTML = '';
                for (let r = 0; r < this.gridSize.rows; r++) {
                    for (let c = 0; c < this.gridSize.cols; c++) {
                        const cell = document.createElement('div');
                        cell.className = 'cell';
                        cell.textContent = this.grid[r][c];
                        cell.dataset.row = r;
                        cell.dataset.col = c;
                        // Check if part of found word (needs logic if shifting, but for now simple)
                        this.gridEl.appendChild(cell);
                    }
                }
            }

            renderWordBank() {
                this.wordBankEl.innerHTML = '';
                this.words.forEach(word => {
                    if (word === this.mysteryWord) return; // Don't show mystery word in bank
                    const el = document.createElement('div');
                    el.className = 'word-item';
                    el.textContent = word;
                    el.dataset.word = word;
                    this.wordBankEl.appendChild(el);
                });
            }

            attachEvents() {
                const newGrid = this.gridEl.cloneNode(true);
                this.gridEl.parentNode.replaceChild(newGrid, this.gridEl);
                this.gridEl = newGrid;

                this.gridEl.addEventListener('touchstart', (e) => this.handleStart(e.touches[0]), { passive: false });
                this.gridEl.addEventListener('touchmove', (e) => this.handleMove(e.touches[0], e), { passive: false });
                this.gridEl.addEventListener('touchend', () => this.handleEnd());

                this.gridEl.addEventListener('mousedown', (e) => this.handleStart(e));
                window.addEventListener('mousemove', (e) => { if (this.isDragging) this.handleMove(e, e); });
                window.addEventListener('mouseup', () => { if (this.isDragging) this.handleEnd(); });
            }

            getCellFromPoint(x, y) {
                const el = document.elementFromPoint(x, y);
                if (el && el.classList.contains('cell')) {
                    return { row: parseInt(el.dataset.row), col: parseInt(el.dataset.col), el: el };
                }
                return null;
            }

            handleStart(point) {
                const cell = this.getCellFromPoint(point.clientX, point.clientY);
                if (!cell) return;
                this.isDragging = true;
                this.startCell = cell;
                this.soundManager.playClick();
                this.updateSelection(cell);
            }

            handleMove(point, event) {
                if (event) event.preventDefault();
                const cell = this.getCellFromPoint(point.clientX, point.clientY);
                if (!cell) return;
                const lastCell = this.currentSelection[this.currentSelection.length - 1];
                if (lastCell && lastCell.dataset.row == cell.row && lastCell.dataset.col == cell.col) return;
                this.updateSelection(cell);
            }

            handleEnd() {
                this.isDragging = false;
                this.checkSelection();
                this.clearSelection();
            }

            updateSelection(currentCell) {
                // Simple line algorithm
                if (!this.startCell) return;

                const dr = currentCell.row - this.startCell.row;
                const dc = currentCell.col - this.startCell.col;

                // Check if diagonal, horizontal or vertical
                if (dr === 0 || dc === 0 || Math.abs(dr) === Math.abs(dc)) {
                    this.clearSelectionVisuals();
                    this.currentSelection = [];

                    const steps = Math.max(Math.abs(dr), Math.abs(dc));
                    const rStep = dr === 0 ? 0 : dr / steps;
                    const cStep = dc === 0 ? 0 : dc / steps;

                    let wordStr = "";

                    for (let i = 0; i <= steps; i++) {
                        const r = this.startCell.row + (i * rStep);
                        const c = this.startCell.col + (i * cStep);
                        const cellEl = this.gridEl.querySelector(`.cell[data-row="${r}"][data-col="${c}"]`);
                        if (cellEl) {
                            cellEl.classList.add('selected-pending');
                            this.currentSelection.push(cellEl);
                            wordStr += cellEl.textContent;
                        }
                    }

                    // Update Floating Label
                    const rect = currentCell.el.getBoundingClientRect();
                    this.floatingLabel.style.display = 'block';
                    this.floatingLabel.style.left = `${rect.left}px`;
                    this.floatingLabel.style.top = `${rect.top - 40}px`;
                    this.floatingLabel.textContent = wordStr;
                }
            }

            clearSelectionVisuals() {
                this.gridEl.querySelectorAll('.selected-pending').forEach(el => el.classList.remove('selected-pending'));
            }

            clearSelection() {
                this.clearSelectionVisuals();
                this.currentSelection = [];
                this.startCell = null;
                this.floatingLabel.style.display = 'none';
            }

            checkSelection() {
                const word = this.currentSelection.map(el => el.textContent).join('');
                const reversedWord = word.split('').reverse().join('');

                if (this.words.includes(word) && !this.foundWords.has(word)) {
                    this.handleWordFound(word);
                } else if (this.words.includes(reversedWord) && !this.foundWords.has(reversedWord)) {
                    this.handleWordFound(reversedWord);
                }
            }

            handleWordFound(word) {
                this.foundWords.add(word);
                this.soundManager.playSuccess();

                // Mark grid cells
                this.currentSelection.forEach(el => el.classList.add('found'));

                // Mark word bank
                if (word === this.mysteryWord) {
                    this.mysteryHintEl.innerHTML = `üéâ Mystery Found: <b>${word}</b>`;
                    this.mysteryHintEl.style.background = 'rgba(0, 255, 0, 0.2)';
                    this.soundManager.playLevelComplete(); // Extra fanfare
                } else {
                    const bankItem = this.wordBankEl.querySelector(`.word-item[data-word="${word}"]`);
                    if (bankItem) bankItem.classList.add('found');
                }

                // Show Info Panel
                const wordData = this.currentLevelData.words.find(w => w.w.toUpperCase() === word) ||
                    (this.mysteryWord === word ? { w: word, t: this.mysteryTextEl.textContent, s: "Mystery Word!", st: "!" } : null);

                if (wordData) {
                    document.getElementById('panel-word').textContent = wordData.w;
                    document.getElementById('panel-translation').textContent = wordData.t;
                    document.getElementById('panel-sentence-sv').textContent = wordData.s;
                    document.getElementById('panel-sentence-ar').textContent = wordData.st;
                    this.bottomInfoPanel.classList.add('active');
                }

                // Time Rush Bonus
                if (this.mode === 'timerush') {
                    this.timer += 10;
                    this.updateTimerDisplay();
                }

                // Check Level Complete
                // Note: Mystery word is optional for level completion unless we want to force it.
                // Let's say you need to find all visible words. Mystery is bonus.
                const visibleWords = this.words.filter(w => w !== this.mysteryWord);
                const foundVisible = visibleWords.every(w => this.foundWords.has(w));

                if (foundVisible) {
                    setTimeout(() => {
                        this.soundManager.playLevelComplete();
                        this.levelModal.classList.add('active');
                    }, 500);
                }
            }

            nextLevel() {
                this.currentLevelIndex++;
                this.levelModal.classList.remove('active');
                this.initLevel(this.currentLevelIndex);
            }
        }

        // Start Game
        let game;
        window.onload = () => {
            game = new WordSearchGame();
        };
    </script>
</body>

</html>