<!DOCTYPE html>
<html lang="sv">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SnabbaLexin - Quran Learning</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Noto+Sans+Arabic:wght@300;400;600;700&family=Amiri:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="quran.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#064e3b">
</head>

<body>
    <header class="quran-header">
        <div class="title-container">
            <button id="backButton" class="back-btn" onclick="window.location.href='learn.html'" aria-label="Tillbaka">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </button>
            <!-- Mobile Toggle (Relocated) -->
            <button id="mobileToggleBtn" class="mobile-toggle-btn" aria-label="Mobile View"
                style="margin-left: 0.5rem; margin-right: 0.5rem;">
                ğŸ“±
            </button>
            <span class="quran-icon">ğŸ“–</span>
            <h1 class="quran-title">Koranord</h1>
        </div>

    </header>

    <div class="search-container">
        <input type="text" id="searchInput" class="glass-input" placeholder="SÃ¶k ord, surah eller betydelse...">
    </div>

    <!-- Mode Tabs -->
    <div class="mode-tabs">
        <!-- Theme Selector (Relocated) -->
        <select id="themeSelector" class="glass-select mini">
            <option value="emerald">ğŸŒ² Emerald</option>
            <option value="oasis">ğŸŒ´ Oasis</option>
            <option value="sky">â˜ï¸ Himmel</option>
            <option value="ocean">ğŸŒŠ Hav</option>
            <option value="navy">ğŸŒŒ NattblÃ¥</option>
            <option value="obsidian">âš« Svart</option>
            <option value="slate">ğŸ—¿ GrÃ¥</option>
            <option value="midnight">ğŸŒ  Midnight</option>
            <option value="sunset">ğŸŒ… Sunset</option>
            <option value="amethyst">ğŸ”® Amethyst</option>
        </select>
        <button class="tab-btn active" data-mode="list">ğŸ“œ Lista</button>
        <button class="tab-btn" data-mode="flashcards">ğŸ—‚ï¸ Kort</button>
        <button class="tab-btn" data-mode="quiz">â“ Quiz</button>
    </div>

    <!-- Filter Bar (Visible in List & Flashcards) -->
    <div class="filter-bar" id="filterBar">
        <select id="surahFilter" class="glass-select">
            <option value="all">Alla Suror</option>
            <option value="favorites">â­ Favoriter / Ø§Ù„Ù…ÙØ¶Ù„Ø©</option>
            <!-- Populated via JS -->
        </select>
        <select id="typeFilter" class="glass-select">
            <option value="all">Alla Typer</option>
            <option value="word">Ord (Glossor)</option>
            <option value="verb">Verb (Verber)</option>
            <option value="noun">Substantiv (Namn)</option>
            <option value="adjective">Adjektiv (Beskrivning)</option>
            <option value="adverb">Adverb</option>
            <option value="phrase">Fraser (Meningar)</option>
        </select>
    </div>

    <!-- List Mode -->
    <main class="quran-list" id="quranList">
        <!-- Cards will be injected here via JS -->
    </main>

    <!-- Flashcard Mode -->
    <div id="flashcardMode" class="mode-container hidden">
        <div class="fc-wrapper">
            <!-- Flashcard Settings -->
            <div class="quiz-settings">
                <label class="toggle-switch">
                    <input type="checkbox" id="fcLangToggle">
                    <span class="slider round"></span>
                </label>
                <span id="fcModeLabel">ğŸ‡¸ğŸ‡¦ Arabiska (Framsida)</span>
            </div>

            <!-- Flashcard Container -->
            <div class="quran-flashcard" id="quranFlashcard">
                <div class="fc-inner">
                    <div class="fc-front">
                        <div class="fc-top-bar">
                            <span class="badger surah-badge" id="fcSurah">Surah</span>
                            <button class="fav-btn" id="fcFavBtn">â˜†</button>
                        </div>
                        <div class="fc-word-large" id="fcWord">Word</div>
                        <div class="fc-hint">Klicka fÃ¶r att vÃ¤nda</div>
                    </div>
                    <div class="fc-back">
                        <div class="fc-top-bar">
                            <span class="badger" style="opacity:0">.</span> <!-- Spacer -->
                            <button class="fav-btn" id="fcFavBtnBack">â˜†</button>
                        </div>
                        <div class="fc-meaning" id="fcMeaning">Meaning</div>
                        <div class="fc-ayah-context" id="fcAyah">Ayah Context</div>
                        <div class="fc-ayah-trans" id="fcTrans">Translation</div>
                    </div>
                </div>
            </div>

            <!-- Rating Controls (Hidden until flipped, or always visible? Usually hidden) -->
            <div class="fc-controls rating-controls" id="ratingControls">
                <button class="rate-btn wrong" data-rating="again">
                    <span>âŒ</span>
                    <small>Igen</small>
                </button>
                <button class="rate-btn hard" data-rating="hard">
                    <span>ğŸ¤”</span>
                    <small>SvÃ¥r</small>
                </button>
                <button class="rate-btn good" data-rating="good">
                    <span>âœ…</span>
                    <small>Bra</small>
                </button>
                <button class="rate-btn easy" data-rating="easy">
                    <span>ğŸš€</span>
                    <small>LÃ¤tt</small>
                </button>
            </div>

            <!-- Navigation Controls (Secondary) -->
            <div class="fc-controls nav-only" style="margin-top:10px; opacity:0.7">
                <button class="control-btn" id="prevCardBtn">â®</button>
                <div class="fc-progress" id="fcProgress">1 / 100</div>
                <button class="control-btn" id="nextCardBtn">â¯</button>
            </div>
        </div>
    </div>

    <!-- Quiz Mode -->
    <div id="quizMode" class="mode-container hidden">
        <div class="quiz-wrapper">
            <div class="quiz-stats">
                <span>PoÃ¤ng: <span id="quizScore">0</span> | Streak: <span id="quizStreak">0</span>ğŸ”¥</span>
                <span class="xp-badge">XP: <span id="userXP">0</span></span>
            </div>

            <!-- Quiz Settings -->
            <div class="quiz-settings">
                <label class="toggle-switch">
                    <input type="checkbox" id="quizLangToggle">
                    <span class="slider round"></span>
                </label>
                <span id="quizModeLabel">ğŸ‡¸ğŸ‡¦ Arabiska â” ğŸ‡¸ğŸ‡ª Svenska</span>
            </div>

            <div class="quiz-card">
                <div class="quiz-question-type">Vad betyder detta ord?</div>
                <div class="quiz-target-word" id="quizWord">WORD</div>

                <div class="quiz-options" id="quizOptions">
                    <!-- Options injected via JS -->
                </div>

                <div class="quiz-feedback hidden" id="quizFeedback"></div>
            </div>

            <button class="next-question-btn hidden" id="nextQuestionBtn">NÃ¤sta FrÃ¥ga â¯</button>
        </div>
    </div>

    <script src="utils.js"></script>
    <script src="quranData.js"></script>
    <script src="quran.js"></script>
</body>

</html>